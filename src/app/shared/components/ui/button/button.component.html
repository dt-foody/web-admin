<button
  [attr.type]="type"
  [attr.aria-label]="iconOnly ? ariaLabel : null"
  [attr.aria-busy]="loading ? 'true' : null"
  [disabled]="disabled || loading"
  [ngClass]="
    'inline-flex items-center justify-center rounded-lg font-medium transition ' +
    'focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-400 focus-visible:ring-offset-2 ' +
    (iconOnly ? 'gap-0' : 'gap-2') +
    ' ' +
    className +
    ' ' +
    sizeClasses +
    ' ' +
    variantClasses +
    ' ' +
    disabledClasses
  "
  (click)="onClick($event)"
>
  @if (startIcon && !iconOnly) {
    <span class="flex items-center" [innerHTML]="startIcon || '' | safeHtml"></span>
  }

  @if (!iconOnly) {
    <ng-content></ng-content>
  }

  @if (iconOnly) {
    <span class="flex items-center" [innerHTML]="startIcon || endIcon || '' | safeHtml"></span>
  }

  @if (endIcon && !iconOnly) {
    <span class="flex items-center" [innerHTML]="endIcon || '' | safeHtml"></span>
  }

  @if (loading) {
    <span
      class="ml-2 inline-block animate-spin rounded-full border-2 border-current border-r-transparent"
      [ngClass]="spinnerSize"
      aria-hidden="true"
    ></span>
  }
</button>
